<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Home</title>
    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/a055717105.js"></script>

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"/>

    <!-- Angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="https://unpkg.com/akar-icons-fonts"></script>

    <link rel="stylesheet" href="/css/dashboard.css">
</head>

<body ng-app="myApp" ng-controller="myCtrl">
<header class="taskbar">
    <div class="col-12 px-5 d-flex justify-content-between">
        <div class="col-1">
            <img src="/ui/logo.png" class="mx-5 col-3 w-50">
        </div>
        <div class="d-flex justify-content-end" style="position: relative; z-index: 2">
            <b class="mt-2 px-3">Hello admin</b>
            <div class="justify-content-end">
                <button class="btn btn-secondary rounded-circle" type="button" id="triggerId"
                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <h6 class="fa fa-user"></h6>
                </button>
            </div>
        </div>
    </div>
</header>
<aside class="sidebar">
    <header class="d-flex justify-content-center">
        <img src="/ui/name.png" class="w-50">
    </header>
    <ul>
        <li>
            <a type="button" th:class="${page.name}=='dashboard'?'active':''" href="/dashboard" onclick="onClick(this)">
                <i class="fa-solid fa-gauge-high"></i>
                <p class="mt-3">Dashboard</p>
            </a>
        </li>


        <li>
            <a type="button" th:class="${page.name}=='statistical'?'active':''" onclick="onClick(this)">
                <i class="fa-solid fa-chart-simple"></i>
                <p class="mt-3">Statistical</p>
                <i class="ai-chevron-down-small"></i>
            </a>
            <div class="sub-menu">
                <ul>
                    <li>
                        <a type="button" href="/statistical-product">Product</a>
                    </li>
                    <li>
                        <a type="button" href="/statistical-revenue">Revenue</a>
                    </li>
                </ul>
            </div>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='product'?'active':''" onclick="onClick(this)">
                <i class="fa-solid fa-mobile-screen"></i>
                <p class="mt-3">Product</p>
                <i class="ai-chevron-down-small"></i>
            </a>
            <div class="sub-menu">
                <ul>
                    <li>
                        <a type="button" href="/manage-product">Product</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-product-version">Product version</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-version-attribute"> Version Attribute</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-attribute">Attribute</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-attribute-value"> Attribute Value</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-product-list">Product list</a>
                    </li>
                </ul>
            </div>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='user'?'active':''" onclick="onClick(this)">
                <i class="fa-regular fa-user"></i>
                <p class="mt-3">User</p>
                <i class="ai-chevron-down-small"></i>
            </a>
            <div class="sub-menu">
                <ul>
                    <li>
                        <a type="button" href="/manage-account">Account</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-rating">Rating</a>
                    </li>
                </ul>
            </div>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='discount'?'active':''" onclick="onClick(this)">
                <i class="fa-solid fa-ticket"></i>
                <p class="mt-3">Discount</p>
                <i class="ai-chevron-down-small"></i>
            </a>
            <div class="sub-menu">
                <ul>
                    <li>
                        <a type="button" href="/manage-promotion">Promotion</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-discount">Discount</a>
                    </li>
                    <li>
                        <a type="button" href="/manage-voucher">Voucher</a>
                    </li>
                </ul>
            </div>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='category'?'active':''" href="/manage-category"
               onclick="onClick(this)">
                <i class="fa-solid fa-layer-group"></i>
                <p class="mt-3">Category</p>
            </a>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='order'?'active':''" href="/manage-order" onclick="onClick(this)">
                <i class="fa-regular fa-money-bill-1"></i>
                <p class="mt-3">Order</p>
            </a>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='purchase'?'active':''" onclick="onClick(this)"
               href="/manage-purchase">
                <i class="fa-solid fa-truck"></i>
                <p class="mt-3">Purchase</p>
            </a>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='brand'?'active':''" onclick="onClick(this)" href="/manage-brand">
                <i class="fa-brands fa-drupal"></i>
                <p class="mt-3">Brand</p>
            </a>
        </li>

        <li>
            <a type="button" th:class="${page.name}=='log-out'?'active':''" href="/logout" onclick="onClick(this)">
                <i class="fa-solid fa-right-from-bracket"></i>
                <p class="mt-3">Log out</p>
            </a>
        </li>
    </ul>
</aside>
<article id="content" class="p-0 bg-light">
    <section th:insert="~{${page.url}}"></section>

</article>

<section name="modals">
    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true" th:if="${successModal!=null}">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center">
                <div class="modal-header bg-success text-white justify-content-center position-relative">
                    <button type="button" class="btn-close btn-close-white position-absolute end-0 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <i class="fas fa-check-circle fa-5x text-success mb-3"></i>
                    <h5 class="modal-title mb-3" th:text="${successModal?.title}">Success</h5>
                    <p th:text="${successModal?.message}">This is a success message.</p>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true"  th:if="${errorModal!=null}">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center">
                <div class="modal-header bg-danger text-white justify-content-center position-relative">
                    <button type="button" class="btn-close btn-close-white position-absolute end-0 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <i class="fas fa-exclamation-triangle fa-5x text-danger mb-3"></i>
                    <h5 class="modal-title mb-3" th:text="${errorModal?.title}">Error</h5>
                    <p th:text="${errorModal?.message}">This is a erroe message.</p>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Warning Modal -->
    <div class="modal fade" id="warningModal" tabindex="-1" aria-labelledby="warningModalLabel" aria-hidden="true" th:if="${warningModal!=null}">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center">
                <div class="modal-header bg-warning text-dark justify-content-center position-relative">
                    <button type="button" class="btn-close position-absolute end-0 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <i class="fas fa-exclamation-circle fa-5x text-warning mb-3"></i>
                    <h5 class="modal-title mb-3" th:text="${warningModal?.title}">Warning</h5>
                    <p th:text="${warningModal?.message}">This is a warning message.</p>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                    <form th:action="${warningModal?.link}" method="post">
                        <input type="checkbox" style="display: none"  name="check" value="true" checked>
                        <button type="submit" th:text="${warningModal?.text}" class="btn btn-warning">Go to Link</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="ratingFormModal" tabindex="-1" aria-labelledby="ratingFormModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ratingFormModalLabel">Evaluate</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="p-2 text-center">
                        <img src="" id="userAvatar" class="img-fluid col-2 mx-3 rounded-circle">
                        <h6 id="userName"></h6>
                        <div class="mb-5 text-warning">
                            <b><i class="far fa-star" id="star1" onclick="chooseStar(1)"></i></b>
                            <b><i class="far fa-star" id="star2" onclick="chooseStar(2)"></i></b>
                            <b><i class="far fa-star" id="star3" onclick="chooseStar(3)"></i></b>
                            <b><i class="far fa-star" id="star4" onclick="chooseStar(4)"></i></b>
                            <b><i class="far fa-star" id="star5" onclick="chooseStar(5)"></i></b>
                        </div>

                        <div class="mb-3">
                            <textarea class="form-control" id="reviewTextarea" placeholder="Enter review" rows="3"></textarea>
                        </div>

                        <div class="mb-3">
                            <input type="file" id="imageInput" class="form-control" accept="image/*" multiple>
                        </div>

                        <div class="row d-flex justify-content-center" id="imageContainer"></div>

                        <div>
                            <button type="button" class="btn btn-primary w-100" onclick="submitEvaluation()">Evaluate</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<!-- Bootstrap JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script src="/js/showModals.js"></script>
</body>

</html>