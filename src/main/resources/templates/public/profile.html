
<main>
    <div class="container mt-5">
        <form class="px-4" action="" method="post" id="form-my-info" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-3 text-center">
                    <div class="text-center mt-5">
                        <img src="https://t4.ftcdn.net/jpg/00/65/77/27/360_F_65772719_A1UV5kLi5nCEWI0BNLLiFaBPEkUbv5Fv.jpg" id="user-avatar"
                             class="card-img-top rounded-circle border border-secondary" style=" box-shadow: 3px 2px 8px gray;" alt="">
                    </div>
                </div>
                <div class="col-md-9">
                    <h1 class="text-center">Information</h1>
                    <div class="row g-3">
                        <div class="col-md">
                            <div class="mb-3">
                                <label class="form-label">UserID: </label>
                                <input type="text" class="form-control" name="userID" placeholder="Enter userId">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Email: </label>
                                <input type="email" class="form-control" name="email" placeholder="Enter email">
                                <p class="text-danger"
                                   th:if='${error?.getFieldError("email") != null}'
                                   th:text='${error?.getFieldError("email")?.getDefaultMessage()}'></p>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Status: </label>
                                <br>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="status" value="true">
                                    <label class="form-check-label">True</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="status" value="false">
                                    <label class="form-check-label">False</label>
                                </div>
                                <p class="text-danger"
                                   th:if='${error?.getFieldError("username") != null}'
                                   th:text='${error?.getFieldError("username")?.getDefaultMessage()}'></p>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="mb-3">
                                <label class="form-label">Username: </label>
                                <input type="text" class="form-control" name="username" placeholder="Enter username">
                                <p class="text-danger"
                                   th:if='${error?.getFieldError("username") != null}'
                                   th:text='${error?.getFieldError("username")?.getDefaultMessage()}'></p>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Role: </label>
                                <br>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="role" value="admin">
                                    <label class="form-check-label">Admin</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="role" value="customer">
                                    <label class="form-check-label">User</label>
                                </div>
                                <p class="text-danger"
                                   th:if='${error?.getFieldError("username") != null}'
                                   th:text='${error?.getFieldError("username")?.getDefaultMessage()}'></p>
                            </div>
                        </div>
                        <div class="row g-2">
                            <label class="form-check-label">Address: </label>
                            <div class="col-md">
                                <label class="form-label">Select province/city </label>
                                <select class="form-select" aria-label="Default select example">
                                    <option selected>Select a province/city</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </div>
                            <div class="col-md">
                                <label class="form-label">Select district </label>
                                <select class="form-select" aria-label="Default select example">
                                    <option selected>Select a district</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </div>
                            <div class="col-md">
                                <label class="form-label">Select ward/commune </label>
                                <select class="form-select" aria-label="Default select example">
                                    <option selected>Select a ward/commune</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary col-5 offset-3">Update information</button>
                    </div>
                </div>
            </div>

        </form>
    </div>
    <script>
        document.getElementById('user-avatar').addEventListener('click', function(event) {
            event.preventDefault();
            var element = document.getElementById('input-file');

            // Tạo phần tử input nếu nó chưa tồn tại
            if(!element) {
                element = document.createElement('input');
                element.type = 'file';
                element.name = 'file';
                element.id = 'input-file';
                element.style.display = 'none';
                document.getElementById('form-my-info').appendChild(element);

                // Thêm sự kiện change chỉ một lần khi phần tử được tạo
                element.addEventListener('change', function (event){
                    var file = event.target.files[0];
                    if (file) {
                        var reader = new FileReader();
                        reader.onload = function(e) {
                            var img = document.getElementById('user-avatar');
                            img.src = e.target.result;
                        }
                        reader.readAsDataURL(file);
                    }
                });
            }

            // Kích hoạt sự kiện click của input file
            element.click();
        });

    </script>
</main>
